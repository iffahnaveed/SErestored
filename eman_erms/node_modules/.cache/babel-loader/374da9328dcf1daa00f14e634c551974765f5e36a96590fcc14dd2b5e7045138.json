{"ast":null,"code":"var _jsxFileName = \"D:\\\\Users\\\\SEPROJECT\\\\erms\\\\src\\\\components\\\\communication.js\",\n  _s = $RefreshSig$();\nimport { useState } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport axios from \"axios\";\nimport \"./contract.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction ContractPage() {\n  _s();\n  const navigate = useNavigate();\n  const [applicantId, setApplicantId] = useState(\"\");\n  const [contractText, setContractText] = useState(\"\");\n  const [status, setStatus] = useState({\n    type: null,\n    message: \"\"\n  });\n\n  // ‚úÖ Get HR ID (same logic as in CommunicationPage)\n  const hr_id = localStorage.getItem(\"hr_id\") || sessionStorage.getItem(\"hr_id\") || 1;\n  const handleSendContract = async () => {\n    setStatus({\n      type: null,\n      message: \"\"\n    });\n    if (!applicantId || !contractText.trim()) {\n      setStatus({\n        type: \"error\",\n        message: \"Please enter applicant ID and contract text.\"\n      });\n      return;\n    }\n    try {\n      var _response$data;\n      const response = await axios.post(\"http://localhost:5000/api/auth/send-contract\", {\n        hr_id: parseInt(hr_id),\n        applicant_id: parseInt(applicantId),\n        contract: contractText.trim()\n      }, {\n        headers: {\n          \"Content-Type\": \"application/json\"\n        }\n      });\n      if ((_response$data = response.data) !== null && _response$data !== void 0 && _response$data.success) {\n        setStatus({\n          type: \"success\",\n          message: \"Contract sent successfully!\"\n        });\n        setContractText(\"\"); // Clear the contract input\n      } else {\n        var _response$data2;\n        setStatus({\n          type: \"error\",\n          message: ((_response$data2 = response.data) === null || _response$data2 === void 0 ? void 0 : _response$data2.message) || \"Failed to send contract.\"\n        });\n      }\n    } catch (error) {\n      console.error(\"Error sending contract:\", error);\n      setStatus({\n        type: \"error\",\n        message: \"An error occurred while sending the contract.\"\n      });\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"contract-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"\\uD83D\\uDCC4 Send Contract to Applicant\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 7\n    }, this), status.message && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: `status-message ${status.type}`,\n      children: status.message\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"form-group\",\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        children: \"\\uD83D\\uDC64 Applicant ID:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"number\",\n        value: applicantId,\n        onChange: e => setApplicantId(e.target.value),\n        placeholder: \"Enter Applicant ID\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"form-group\",\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        children: \"\\uD83D\\uDCDD Contract Details:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n        value: contractText,\n        onChange: e => setContractText(e.target.value),\n        placeholder: \"Write the contract terms here...\",\n        rows: \"6\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"form-actions\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"primary-button\",\n        onClick: handleSendContract,\n        children: \"Send Contract\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"secondary-button\",\n        onClick: () => navigate(-1),\n        children: \"Back\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 48,\n    columnNumber: 5\n  }, this);\n}\n_s(ContractPage, \"GbG0oJbMJASJOmjVT3/OAs5hNPk=\", false, function () {\n  return [useNavigate];\n});\n_c = ContractPage;\nexport default ContractPage;\nvar _c;\n$RefreshReg$(_c, \"ContractPage\");","map":{"version":3,"names":["useState","useNavigate","axios","jsxDEV","_jsxDEV","ContractPage","_s","navigate","applicantId","setApplicantId","contractText","setContractText","status","setStatus","type","message","hr_id","localStorage","getItem","sessionStorage","handleSendContract","trim","_response$data","response","post","parseInt","applicant_id","contract","headers","data","success","_response$data2","error","console","className","children","fileName","_jsxFileName","lineNumber","columnNumber","value","onChange","e","target","placeholder","rows","onClick","_c","$RefreshReg$"],"sources":["D:/Users/SEPROJECT/erms/src/components/communication.js"],"sourcesContent":["import { useState } from \"react\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport axios from \"axios\";\r\nimport \"./contract.css\";\r\n\r\nfunction ContractPage() {\r\n  const navigate = useNavigate();\r\n  const [applicantId, setApplicantId] = useState(\"\");\r\n  const [contractText, setContractText] = useState(\"\");\r\n  const [status, setStatus] = useState({ type: null, message: \"\" });\r\n\r\n  // ‚úÖ Get HR ID (same logic as in CommunicationPage)\r\n  const hr_id = localStorage.getItem(\"hr_id\") || sessionStorage.getItem(\"hr_id\") || 1;\r\n\r\n  const handleSendContract = async () => {\r\n    setStatus({ type: null, message: \"\" });\r\n    if (!applicantId || !contractText.trim()) {\r\n      setStatus({ type: \"error\", message: \"Please enter applicant ID and contract text.\" });\r\n      return;\r\n    }\r\n\r\n    try {\r\n      const response = await axios.post(\r\n        \"http://localhost:5000/api/auth/send-contract\",\r\n        {\r\n          hr_id: parseInt(hr_id),\r\n          applicant_id: parseInt(applicantId),\r\n          contract: contractText.trim()\r\n        },\r\n        {\r\n          headers: { \"Content-Type\": \"application/json\" }\r\n        }\r\n      );\r\n\r\n      if (response.data?.success) {\r\n        setStatus({ type: \"success\", message: \"Contract sent successfully!\" });\r\n        setContractText(\"\"); // Clear the contract input\r\n      } else {\r\n        setStatus({ type: \"error\", message: response.data?.message || \"Failed to send contract.\" });\r\n      }\r\n    } catch (error) {\r\n      console.error(\"Error sending contract:\", error);\r\n      setStatus({ type: \"error\", message: \"An error occurred while sending the contract.\" });\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"contract-container\">\r\n      <h2>üìÑ Send Contract to Applicant</h2>\r\n\r\n      {status.message && (\r\n        <div className={`status-message ${status.type}`}>{status.message}</div>\r\n      )}\r\n\r\n      <div className=\"form-group\">\r\n        <label>üë§ Applicant ID:</label>\r\n        <input\r\n          type=\"number\"\r\n          value={applicantId}\r\n          onChange={(e) => setApplicantId(e.target.value)}\r\n          placeholder=\"Enter Applicant ID\"\r\n        />\r\n      </div>\r\n\r\n      <div className=\"form-group\">\r\n        <label>üìù Contract Details:</label>\r\n        <textarea\r\n          value={contractText}\r\n          onChange={(e) => setContractText(e.target.value)}\r\n          placeholder=\"Write the contract terms here...\"\r\n          rows=\"6\"\r\n        />\r\n      </div>\r\n\r\n      <div className=\"form-actions\">\r\n        <button className=\"primary-button\" onClick={handleSendContract}>\r\n          Send Contract\r\n        </button>\r\n        <button className=\"secondary-button\" onClick={() => navigate(-1)}>\r\n          Back\r\n        </button>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ContractPage;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}